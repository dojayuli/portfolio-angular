<div class="contenedor"> 
    
    <h1>Experiencia</h1> 
    <div class="col-4">
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#agregarExperienciaModal"  *ngIf="isLogged">
        Nueva Experiencia
      </button>
    </div>
    <div  *ngFor="let Experiencia of experiencia" class="mt-3 row">
      <div class="col-12 col-md-4 d-flex justify-content-center align-items-center">
        <img src={{Experiencia.imgExperience}} width="225" height="175" alt="" class="mt-2 mb-2">
     </div>
     <div class="col-12 col-md-6 d-flex flex-column justify-content-center text-center text-md-start">
       <h1 class=" fs-2">{{Experiencia.nombreExp}}</h1>
       <p class="mb-0" style="word-wrap: break-word;">{{Experiencia.descripcionExp}}</p>
       
     </div>
     <div class="-col-12 col-md-2 d-flex flex-row-reverse justify-content-center">
      <div>
        <button *ngIf="isLogged" type="button" class="btn btn-primary m-1" data-bs-toggle="modal" data-bs-target="#eliminarExperienciaModal" (click)="onOpenModal('delete',Experiencia)">
          <i class="bi bi-trash"></i>
        </button>
        </div>
        <div>
        <button  *ngIf="isLogged" type="button" class="btn btn-primary m-1" data-bs-toggle="modal" data-bs-target="#editarExperienciaModal" (click)="onOpenModal('edit',Experiencia)">
          <i class="bi bi-pencil-fill"></i>
          </button>
      </div>
     </div>
    
    </div>
  
      
      </div>


    

    
    












<div class="modal fade" id="agregarExperienciaModal" tabindex="-1" aria-labelledby="agregarExperienciaModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content text-dark">
      <div class="modal-header">
        <h5 class="modal-title" id="agregarExperienciaModal">Añadir Experiencia</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="onCreate()" noValidate #f="ngForm">
          <div class="form-group">
              <label for="nombreExp">Nombre de la empresa</label>
              <input type="text" class="form-control" id="nombreExp" name="nombreExp" [(ngModel)]= "nombreExp" required>
              <label for="descripcionExp">Descripción de la ocupación</label>
              <input type="text" class="form-control" id="descripcionExp" name="descripcionExp" [(ngModel)]= "descripcionExp" required>

              <label for="imgExperience">Url de la imagen</label>
              <input type="text" class="form-control" id="imgExperience" name="imgExperience" [(ngModel)]= "imgExperience" required>
          </div>

          <button class="btn btn-primary m-2">
              Agregar Experiencia
          </button>
      </form>
      </div>
    </div>
  </div>
</div>








<!--Modal delete-->
<div class="modal fade" data-bs-toggle="modal" data-bs-target="#eliminarExperienciaModal" id="eliminarExperienciaModal" tabindex="-1" role="dialog" aria-labelledby="eliminarExperienciaModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content text-dark">
          <div class="modal-header">
              <h5 class="modal-title" id="eliminarExperienciaModal">Borrar Experiencia</h5>
              <button class="close" type="button" data-bs-dismiss="modal" aria-label="close" >
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <p> Estas seguro que quiere eliminar {{deleteExperiencia?.nombreExp}}?</p>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                  No
              </button>

              <button (click)="delete(deleteExperiencia!.id)"  class="btn btn-danger" data-bs-dismiss="modal">Si</button>
          </div>
      </div>

  </div>

 </div>


<!--Modal upDate-->
<div class="modal fade" id="editarExperienciaModal" tabindex="-1" aria-labelledby="editarExperienciaModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content text-dark">
      <div class="modal-header">
        <h5 class="modal-title" id="editarExperienciaModalLabel">Editar Experiencia</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form #editForm="ngForm">
          <div class="form-group">
              <label for="nombreExp">Título</label>
              <input type="text" ngModel="{{editExperiencia?.nombreExp}}" name="nombreExp" class="form-control" id="nombreExp" placeholder="Titulo" aria-describedby="emailHelp">
          </div>

          <div class="form-group">
              <label for="descripcionExp">Descripción</label>
              <input type="text" ngModel="{{editExperiencia?.descripcionExp}}" name="descripcionExp" class="form-control" id="descripcionExp" placeholder="Descripcion">
          </div>

          <div class="form-group">
            <label for="imgExperience">Url de la image</label>
            <input type="text" ngModel="{{editExperiencia?.imgExperience}}" name="imgExperiencia" class="form-control" id="imgExperience">
        </div>
        <div class="form-group">
          <label for="id"></label>
          <input type="hidden" ngModel="{{editExperiencia?.id}}" name="id" class="form-control" id="ideEdu">
      </div>
        
            <div class="footer-modal d-flex flex-row-reverse justify-content-end">
              <button type="button" class="btn btn-primary m-1" data-bs-dismiss="modal"> Cerrar </button>

              <button (click)="onUpDateExperiencia(editForm.value)" class="btn btn-primary m-1" data-bs-dismiss="modal"> Guardar</button>
          </div>
        
      </form>
      
      </div>
    </div>
  </div>
</div>